(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27c6a76c"],{"0d63":function(e,t,n){},"7f7f":function(e,t,n){var o=n("86cc").f,s=Function.prototype,r=/^\s*function ([^ (]*)/,i="name";i in s||n("9e1e")&&o(s,i,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(e){return""}}})},ab12:function(e,t,n){"use strict";var o=n("0d63"),s=n.n(o);s.a},bf87:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"addComments"},[n("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("el-form",{ref:"form",attrs:{model:e.formData,"status-icon":"",rules:e.rules,size:"mini","label-width":"110px","label-position":"right"}},[n("el-form-item",{staticClass:"description",attrs:{label:"描述：",prop:"description"}},[n("el-col",{attrs:{span:23}},[n("el-input",{model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1)],1),n("el-form-item",{staticClass:"content",attrs:{label:"内容：",prop:"content"}},[n("el-col",{attrs:{span:24}},[n("quill-editor",{ref:"myQuillEditor",staticClass:"ql-editor",attrs:{options:e.editorOption},on:{change:e.handleChange},model:{value:e.formData.content,callback:function(t){e.$set(e.formData,"content",t)},expression:"formData.content"}})],1)],1),n("el-form-item",[e.isEdit?n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.editForm("form")}}},[e._v("修改")]):n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addForm("form")}}},[e._v("添加")]),e.isEdit?n("el-button",{on:{click:e.cancelForm}},[e._v("取消")]):n("el-button",{on:{click:function(t){e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)],1)},s=[],r=(n("7f7f"),n("c93e")),i=n("2f62"),a={name:"AddComments",data:function(){return{formData:{description:"",content:""},loading:!1,isEdit:!1,rules:{description:[{required:!0,message:"请输入评议描述!",trigger:"blur"}],content:[{type:"string",message:"请输入内容！",trigger:"blur"}]},editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]}}}},methods:{getData:function(){var e=this;this.loading=!0,this.$axios.get("comments/getTheComments/".concat(this.userId)).then(function(t){200===t.code?(e.loading=!1,e.formData=t.data):(e.loading=!1,e.$message({message:t.msg,type:"error",duration:1e3,center:!0}))}).catch(function(t){e.loading=!1,e.$message({message:"网络链接错误!"+t,type:"error",duration:1e3,center:!0})})},addForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message({message:"数据格式不正确!",type:"error",duration:1e3,center:!0}),!1;t.$axios.post("comments/addComments",t.formData).then(function(e){200===e.code?(t.$message({message:e.msg,type:"success",duration:1e3,center:!0}),setTimeout(function(){t.$router.push("/layout/commentsList")},500)):t.$message({message:e.msg,type:"error",duration:1e3,center:!0})}).catch(function(e){t.$message({message:"网络链接错误!"+e,type:"error",duration:1e3,center:!0})})})},editForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message({message:"数据格式不正确!",type:"error",duration:1e3,center:!0}),!1;t.$axios.post("comments/editComments",t.formData).then(function(e){200===e.code?(t.$message({message:e.msg,type:"success",duration:1e3,center:!0}),setTimeout(function(){t.$router.push("/layout/commentsList")},500)):t.$message({message:e.msg,type:"error",duration:1e3,center:!0})}).catch(function(e){t.$message({message:"网络链接错误!"+e,type:"error",duration:1e3,center:!0})})})},resetForm:function(e){this.$refs[e].resetFields()},cancelForm:function(e){var t=this;this.$message({message:"取消修改!",type:"info",duration:1e3,center:!0}),setTimeout(function(){return t.$router.push("/layout/commentsList")},1e3)}},computed:Object(r["a"])({},Object(i["b"])(["userId"])),created:function(){"addComments"===this.$route.name?(this.loading=!1,this.isEdit=!1):(this.isEdit=!0,this.getData())}},c=a,m=(n("ab12"),n("2877")),u=Object(m["a"])(c,o,s,!1,null,"4f3b02fb",null);u.options.__file="AddComments.vue";t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-27c6a76c.3cba8af9.js.map