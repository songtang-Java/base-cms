(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-730a0acc"],{"0dea":function(e,a,t){"use strict";var r=t("8709"),o=t.n(r);o.a},3746:function(e,a,t){},"7f7f":function(e,a,t){var r=t("86cc").f,o=Function.prototype,s=/^\s*function ([^ (]*)/,i="name";i in o||t("9e1e")&&r(o,i,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(e){return""}}})},8709:function(e,a,t){},"89ef":function(e,a,t){"use strict";var r=t("3746"),o=t.n(r);o.a},d34f:function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://upload-z1.qiniup.com",data:e.formData,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?t("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])},o=[],s=(t("cadf"),t("551c"),t("097d"),t("bc3a"),{name:"uploadImg",props:{value:String},data:function(){return{imageUrl:this.value,formData:{token:""}}},methods:{handleAvatarSuccess:function(e,a){this.imageUrl=e.url,this.$emit("input",this.imageUrl)},beforeAvatarUpload:function(e){var a="image/jpeg"===e.type,t=e.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG 格式!"),t||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&t},getToken:function(){var e=this;this.$axios.get("/getToken").then(function(a){200===a.code?e.formData.token=a.token:e.$message({message:"getToken:"+a.data.msg,type:"error",duration:1e3,center:!0})}).catch(function(a){e.$message({message:"网络链接错误！",type:"error",duration:1e3,center:!0})})}},created:function(){this.getToken()},watch:{value:function(e){this.imageUrl=e,console.log(this.value),console.log(this.imageUrl)}}}),i=s,n=(t("89ef"),t("2877")),l=Object(n["a"])(i,r,o,!1,null,null,null);l.options.__file="UploadImg.vue";a["a"]=l.exports},e707:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"addmin-wrap"},[t("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"card-wrap",attrs:{shadow:"never"}},[t("div",{staticClass:"header-card",attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.isEdit?"编辑用户":"添加用户"))]),t("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{size:"mini",rules:e.rules,model:e.formData,"label-width":"100px","label-position":"right"}},[t("el-form-item",{attrs:{label:"用户账号：",prop:"userId"}},[t("el-input",{attrs:{disabled:e.isEdit},model:{value:e.formData.userId,callback:function(a){e.$set(e.formData,"userId",a)},expression:"formData.userId"}})],1),t("el-form-item",{attrs:{label:"用户名：",prop:"username"}},[t("el-input",{model:{value:e.formData.username,callback:function(a){e.$set(e.formData,"username",a)},expression:"formData.username"}})],1),t("el-form-item",{attrs:{label:"性别："}},[t("el-radio-group",{model:{value:e.formData.sex,callback:function(a){e.$set(e.formData,"sex",a)},expression:"formData.sex"}},[t("el-radio",{attrs:{label:1}},[e._v("男")]),t("el-radio",{attrs:{label:0}},[e._v("女")])],1)],1),t("el-form-item",{attrs:{label:"用户头像：",prop:"avatar"}},[t("uploadImg",{staticClass:"uploadImg",model:{value:e.formData.avatar,callback:function(a){e.$set(e.formData,"avatar",a)},expression:"formData.avatar"}})],1),e.isEdit?e._e():t("el-form-item",{attrs:{label:"用户密码：",prop:"password"}},[t("el-input",{attrs:{type:"password",disabled:e.isEdit},model:{value:e.formData.password,callback:function(a){e.$set(e.formData,"password",a)},expression:"formData.password"}})],1),t("el-form-item",{attrs:{label:"籍 贯：",prop:"homePlace"}},[t("el-input",{model:{value:e.formData.homePlace,callback:function(a){e.$set(e.formData,"homePlace",a)},expression:"formData.homePlace"}})],1),t("el-form-item",{attrs:{label:"现居地：",prop:"workPlace"}},[t("el-input",{model:{value:e.formData.workPlace,callback:function(a){e.$set(e.formData,"workPlace",a)},expression:"formData.workPlace"}})],1),t("el-form-item",{attrs:{label:"联系电话：",prop:"phone"}},[t("el-input",{model:{value:e.formData.phone,callback:function(a){e.$set(e.formData,"phone",e._n(a))},expression:"formData.phone"}})],1),t("el-form-item",{attrs:{label:"民族：",prop:"minZu"}},[t("el-input",{model:{value:e.formData.minZu,callback:function(a){e.$set(e.formData,"minZu",a)},expression:"formData.minZu"}})],1),t("el-form-item",{attrs:{label:"微信：",prop:"wx"}},[t("el-input",{model:{value:e.formData.wx,callback:function(a){e.$set(e.formData,"wx",a)},expression:"formData.wx"}})],1),t("el-form-item",{attrs:{label:"QQ：",prop:"qq"}},[t("el-input",{model:{value:e.formData.qq,callback:function(a){e.$set(e.formData,"qq",a)},expression:"formData.qq"}})],1),t("el-form-item",{attrs:{label:"教育背景：",prop:"education"}},[t("el-input",{model:{value:e.formData.education,callback:function(a){e.$set(e.formData,"education",a)},expression:"formData.education"}})],1),t("el-form-item",{attrs:{label:"职称：",prop:"jobName"}},[t("el-input",{model:{value:e.formData.jobName,callback:function(a){e.$set(e.formData,"jobName",a)},expression:"formData.jobName"}})],1),t("el-form-item",{attrs:{label:"薪资：",prop:"salary"}},[t("el-input",{model:{value:e.formData.salary,callback:function(a){e.$set(e.formData,"salary",a)},expression:"formData.salary"}})],1),t("el-form-item",{attrs:{label:"入党时间：",prop:"ruDangTime"}},[t("el-input",{model:{value:e.formData.ruDangTime,callback:function(a){e.$set(e.formData,"ruDangTime",a)},expression:"formData.ruDangTime"}})],1),t("el-form-item",[e.isEdit?t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.editForm("form")}}},[e._v("修改")]):t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.submitForm("form")}}},[e._v("注册")]),e.isEdit?t("el-button",{on:{click:e.CancelForm}},[e._v("取消")]):t("el-button",{on:{click:function(a){e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)],1)},o=[],s=(t("7f7f"),t("c93e")),i=t("d34f"),n=t("2f62"),l={name:"addAdmine",components:{uploadImg:i["a"]},data:function(){return{formData:{username:"",userId:"",password:"",phone:null,avatar:"",homePlace:"",workPlace:"",minZu:"",wx:"",qq:"",sex:1,education:"",jobName:"",salary:"",ruDangTime:""},isEdit:!1,loading:!0,rules:{userId:[{required:!0,message:"请输入用户账号！",trigger:"blur"},{pattern:/^[a-zA-Z0-9]{4,10}$/,message:"请输入正确格式",trigger:["blur","change"]}],username:[{required:!0,message:"请输入用户昵称！",trigger:"blur"}],password:[{required:!0,message:"请输入用户密码！",trigger:"blur"},{pattern:/^[a-zA-Z0-9]{4,10}$/,message:"请输入正确格式",trigger:["blur","change"]}],phone:[{type:"number",message:"电话必须为数字值",trigger:"change"},{pattern:/^1[34578]\d{9}$/,message:"请输入正确格式",trigger:["blur","change"]}]}}},computed:Object(s["a"])({},Object(n["b"])(["userId"])),methods:{CancelForm:function(){var e=this;this.$message({message:"取消修改！！！",type:"info",duration:1e3,center:!0}),setTimeout(function(){e.$router.push("/layout/admin")},1e3)},editForm:function(){var e=this;this.$axios.post("/users/editUser",this.formData).then(function(a){200===a.code?(e.$message({message:a.msg,type:"success",duration:1e3,center:!0}),setTimeout(function(){e.$router.push("/layout/admin"),e.$store.commit("DELETE_USERINFO")},1e3)):e.$message({message:a.msg,type:"error",duration:1e3,center:!0})}).catch(function(a){e.$message({message:"网络链接错误！"+a,type:"error",duration:1e3,center:!0})})},submitForm:function(e){var a=this;this.$refs[e].validate(function(e){if(!e)return a.$message({message:"数据格式不正确！！！",type:"error",duration:1e3,center:!0}),!1;a.$axios.post("/users/registerUser",a.formData).then(function(e){200===e.code?(a.$message({message:e.msg,type:"success",duration:1e3,center:!0}),setTimeout(function(){a.$router.push("/layout/admin")},500)):a.$message({message:e.msg,type:"error",duration:1e3,center:!0})}).catch(function(e){a.$message({message:"网络链接错误！"+e,type:"error",duration:1e3,center:!0})})})},resetForm:function(e){this.$refs[e].resetFields()},getData:function(){var e=this;this.loading=!0,this.$axios.get("/users/getOneUser/".concat(this.userId)).then(function(a){200===a.code?(e.loading=!1,e.formData=Object(s["a"])({},a.data)):(e.loading=!1,e.$message({message:a.msg,type:"error",duration:1e3,center:!0}))}).catch(function(a){e.loading=!1,e.$message({message:"网络链接错误！"+a,type:"error",duration:1e3,center:!0})})}},watch:{$route:function(e){"addAdmine"===e.name?(this.loading=!1,this.isEdit=!1,this.formData={}):this.isEdit=!0}},created:function(){"addAdmine"===this.$route.name?(this.loading=!1,this.isEdit=!1):(this.isEdit=!0,this.getData())}},m=l,u=(t("0dea"),t("2877")),c=Object(u["a"])(m,r,o,!1,null,"690270c6",null);c.options.__file="addAdmine.vue";a["default"]=c.exports}}]);
//# sourceMappingURL=chunk-730a0acc.5758c776.js.map